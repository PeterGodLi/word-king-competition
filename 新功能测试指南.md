# 新功能测试指南 - v1.2.0

## 🧪 测试清单

### 功能一：优化斩词功能测试

#### 测试步骤：

**步骤1：进入背单词模式**
1. 打开应用：http://localhost:8000
2. 点击"📚 背单词模式"
3. 选择任意话题分类（如：学校用品）
4. 点击"开始学习"

**步骤2：测试一键斩词**
1. 观察当前单词（如：pen）
2. 点击页面底部的"⚔️ 斩词"按钮
3. ✅ 检查点：
   - [ ] 无确认对话框弹出
   - [ ] 右上角Toast提示出现："单词 'pen' 已斩！"
   - [ ] 自动跳转到下一个单词
   - [ ] 得分增加10分
   - [ ] 顶部斩词数量+1

**步骤3：验证斩词效果**
1. 继续学习直到完成
2. 返回主菜单
3. 重新选择同一分类
4. ✅ 检查点：
   - [ ] 被斩的单词不再出现
   - [ ] 剩余单词数量正确

**步骤4：测试斩词管理**
1. 点击顶部"⚔️ [数字]"按钮
2. ✅ 检查点：
   - [ ] 斩词管理界面正确打开
   - [ ] 显示刚才斩的单词
   - [ ] 时间显示正确（如："刚刚"）

---

### 功能二：错词本功能测试

#### 测试A：背单词模式错词收集

**步骤1：进入背单词**
1. 选择"📚 背单词模式"
2. 选择分类（如：颜色）
3. 开始学习

**步骤2：标记不认识**
1. 遇到单词时点击"😕 不认识"
2. 连续标记2-3个单词
3. ✅ 检查点：
   - [ ] 顶部错词本数量增加
   - [ ] 按钮显示：📕 3

**步骤3：查看错词本**
1. 完成学习或点击返回
2. 点击顶部"📕 [数字]"按钮
3. ✅ 检查点：
   - [ ] 错词本界面打开
   - [ ] 统计卡片显示：错误单词数 = 3
   - [ ] 错词列表显示刚才标记的单词
   - [ ] 每个单词显示"1次"徽章

#### 测试B：检查模式错词收集

**步骤1：进入检查模式**
1. 选择"✍️ 检查模式"
2. 选择分类
3. 开始检查

**步骤2：故意答错**
1. 看到中文释义
2. 输入错误的单词（如：看到"红色"输入"blu"）
3. 点击"检查答案"
4. ✅ 检查点：
   - [ ] 显示"❌ 答错了"
   - [ ] 显示正确答案
   - [ ] 错词本数量+1

**步骤3：重复答错同一单词**
1. 继续学习，遇到相同单词
2. 再次答错
3. 打开错词本查看
4. ✅ 检查点：
   - [ ] 错误单词数不变
   - [ ] 累计错误次数+1
   - [ ] 该单词显示"2次"徽章

#### 测试C：错词本专项练习

**步骤1：背诵错词**
1. 打开错词本
2. 点击"📚 背诵错词"按钮
3. ✅ 检查点：
   - [ ] 进入背单词模式
   - [ ] 只显示错词本中的单词
   - [ ] 可以正常学习
   - [ ] 可以标记认识/不认识
   - [ ] 可以斩词

**步骤2：检查错词**
1. 打开错词本
2. 点击"✍️ 检查错词"按钮
3. ✅ 检查点：
   - [ ] 进入检查模式
   - [ ] 只测试错词本单词
   - [ ] 答错会继续累加错误次数
   - [ ] 答对不会移除错词

#### 测试D：错词本管理功能

**测试搜索功能**
1. 打开错词本
2. 在搜索框输入单词（如："red"）
3. ✅ 检查点：
   - [ ] 只显示匹配的单词
   - [ ] 实时过滤，无需点击

**测试移除功能**
1. 点击某个错词的"✕ 移除"按钮
2. 确认操作
3. ✅ 检查点：
   - [ ] 单词从列表消失
   - [ ] 统计数量-1
   - [ ] 顶部数量更新

**测试导出功能**
1. 点击"📥 导出数据"按钮
2. ✅ 检查点：
   - [ ] 下载CSV文件
   - [ ] 文件名格式：错词本_2025-11-26.csv
   - [ ] 用Excel打开正确显示
   - [ ] 包含完整数据（单词、音标、错误次数等）

**测试清空功能**
1. 点击"清空全部"按钮
2. 第一次确认
3. 第二次确认
4. ✅ 检查点：
   - [ ] 错词本清空
   - [ ] 统计归零
   - [ ] 显示空状态提示

---

### 综合测试场景

#### 场景1：完整学习流程

```
1. 背单词模式学习 → 标记3个不认识
2. 检查模式测试 → 答错2个
3. 查看错词本 → 确认有5个错词
4. 背诵错词 → 练习错词
5. 掌握的单词 → 斩词
6. 剩余难词 → 继续练习
7. 全部掌握 → 清空错词本
```

**✅ 期望结果**：
- 错词自动收集
- 可以专项练习
- 掌握后可斩词
- 数据统计准确

#### 场景2：数据持久化测试

```
1. 添加一些错词
2. 斩几个单词
3. 刷新页面（F5）
4. 检查数据
```

**✅ 期望结果**：
- 错词本数据保留
- 斩词数据保留
- 统计数量正确

#### 场景3：移动端测试

```
1. 用手机浏览器打开
2. 测试所有功能
```

**✅ 期望结果**：
- 布局正常
- 按钮可点击
- 弹窗完整显示
- 操作流畅

---

### 边界情况测试

#### 测试1：空状态
- [ ] 错词本为空时显示正确
- [ ] 点击"背诵错词"有提示
- [ ] 点击"检查错词"有提示

#### 测试2：大量数据
- [ ] 添加100个错词
- [ ] 列表滚动正常
- [ ] 搜索性能良好
- [ ] 导出文件完整

#### 测试3：特殊字符
- [ ] 单词包含特殊字符
- [ ] 中文包含标点
- [ ] CSV导出正确转义

---

### 性能测试

#### 响应速度
- [ ] 斩词操作 < 100ms
- [ ] 打开错词本 < 200ms
- [ ] 搜索过滤 < 50ms
- [ ] 数据保存 < 50ms

#### 动画流畅度
- [ ] Toast动画流畅
- [ ] 页面切换流畅
- [ ] 弹窗打开流畅

---

### 兼容性测试

#### 浏览器测试
- [ ] Chrome
- [ ] Firefox  
- [ ] Safari
- [ ] Edge

#### 设备测试
- [ ] 桌面（Mac/Windows）
- [ ] 平板（iPad）
- [ ] 手机（iPhone/Android）

---

### 回归测试

**确保原有功能正常**：
- [ ] 背单词模式正常
- [ ] 检查模式正常
- [ ] 挑战模式正常
- [ ] Excel导入正常
- [ ] 原斩词管理正常
- [ ] 话题分类选择正常
- [ ] 得分统计正确

---

## 🐛 已知问题记录

测试中发现的问题在此记录：

| 序号 | 问题描述 | 严重程度 | 状态 |
|------|----------|----------|------|
| 1    | （测试填写） | 低/中/高 | 待修复 |
| 2    |  |  |  |

---

## ✅ 测试结果

**测试人**：__________
**测试日期**：__________
**测试版本**：v1.2.0

**测试总结**：
- 功能测试通过项：____ / ____
- 性能测试通过项：____ / ____
- 兼容性测试通过项：____ / ____

**结论**：
- [ ] 通过，可以发布
- [ ] 需要修复问题后重新测试

**备注**：
_______________________________
_______________________________
_______________________________

---

## 🚀 快速测试命令

```bash
# 启动服务器
cd /Users/peter_god/codebuddy/20251126单词王比赛
bash start.sh

# 访问地址
http://localhost:8000

# 测试路径
1. 主页 → 背单词 → 斩词测试
2. 主页 → 检查模式 → 错词测试
3. 错词本 → 所有功能测试
```

---

**测试完成标志**：所有 ✅ 都被勾选 🎉
