# ⚔️ 斩词功能使用说明

## 功能概述

**斩词功能**允许用户标记已经完全掌握的单词，被标记的单词将从学习模式中移除，不再出现。同时支持随时取回已斩的单词，恢复到学习中。

---

## 🎯 功能特点

### 1. 智能过滤
- ✅ 斩词后自动从所有学习模式中排除
- ✅ 不影响单词库的原始数据
- ✅ 本地持久化存储，刷新不丢失

### 2. 完整管理
- ✅ 查看所有已斩单词
- ✅ 按时间排序显示
- ✅ 搜索过滤功能
- ✅ 一键取回单词
- ✅ 批量清空功能

### 3. 数据统计
- ✅ 已斩单词数量
- ✅ 单词总数统计
- ✅ 学习完成率
- ✅ 斩词时间记录

### 4. 导出功能
- ✅ 导出已斩单词列表
- ✅ CSV格式文件
- ✅ 包含完整单词信息

---

## 📖 使用教程

### 一、如何斩词

#### 方法：在背单词模式中斩词

1. **进入背单词模式**
   - 点击主菜单的 "📚 背单词模式"
   - 选择要学习的话题分类
   - 点击 "开始学习"

2. **斩词操作**
   - 学习过程中遇到已完全掌握的单词
   - 点击 **"⚔️ 斩词"** 按钮
   - 确认斩词操作

3. **斩词效果**
   - 显示斩词特效动画（剑斩效果）
   - 自动获得 +10 经验值
   - 该单词从当前学习列表中移除
   - 继续学习下一个单词

#### 斩词确认对话框

```
确定要斩掉单词 "apple" 吗？
斩词后该单词将不再出现在学习中。

[取消]  [确定]
```

---

### 二、查看已斩单词

#### 打开斩词管理器

**方法1**: 点击顶部的斩词按钮
- 位置：页面顶部右侧
- 图标：⚔️ + 数字（已斩数量）
- 点击即可打开管理界面

**方法2**: 通过快捷键
- 按 `Ctrl/Cmd + K` (未来功能)

#### 斩词管理界面布局

```
┌─────────────────────────────────────┐
│         ⚔️ 斩词管理            [✕]   │
├─────────────────────────────────────┤
│  ┌──────┐  ┌──────┐  ┌──────┐      │
│  │ ⚔️ 25│  │ 📚 50│  │📊 50%│      │
│  │已斩  │  │总数  │  │完成率│      │
│  └──────┘  └──────┘  └──────┘      │
│                                     │
│  🔍 [搜索单词...]   [清空全部]      │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ apple    /ˈæpl/             │   │
│  │ 苹果                        │   │
│  │ 📁 食物与饮料  ⏰ 2小时前   │   │
│  │                  [↩️ 取回]  │   │
│  └─────────────────────────────┘   │
│  ...更多单词...                     │
│                                     │
│         [关闭]  [📥 导出数据]       │
└─────────────────────────────────────┘
```

---

### 三、取回已斩单词

#### 单个取回

1. **打开斩词管理器**
   - 点击顶部的 ⚔️ 按钮

2. **找到要取回的单词**
   - 滚动列表查看
   - 或使用搜索功能

3. **点击取回按钮**
   - 每个单词右侧有 "↩️ 取回" 按钮
   - 点击后弹出确认对话框

4. **确认取回**
   ```
   确定要取回单词 "apple" 吗？
   取回后该单词将重新出现在学习中。
   
   [取消]  [确定]
   ```

5. **取回成功**
   - 显示提示消息："单词 'apple' 已取回！"
   - 单词从已斩列表中移除
   - 单词恢复到学习模式中

#### 批量清空（慎用）

1. **点击"清空全部"按钮**
   - 位于斩词管理器顶部

2. **双重确认**
   ```
   确定要清空全部 25 个斩词吗？
   此操作不可恢复！
   
   [取消]  [确定]
   ```
   
   ```
   再次确认：真的要清空吗？
   
   [取消]  [确定]
   ```

3. **清空完成**
   - 所有斩词被取回
   - 所有单词恢复到学习模式

---

### 四、搜索和过滤

#### 搜索功能

1. **在搜索框输入关键词**
   - 支持单词拼写搜索
   - 实时过滤显示结果

2. **搜索示例**
   - 输入 "app" → 显示 apple, application 等
   - 输入 "食物" → 显示食物分类的单词
   - 清空搜索框 → 显示全部单词

---

### 五、导出数据

#### 导出已斩单词列表

1. **点击"📥 导出数据"按钮**
   - 位于斩词管理器底部

2. **自动下载CSV文件**
   - 文件名：`斩词记录_2025-11-26.csv`
   - 格式：Excel可打开的CSV文件

3. **导出内容**
   ```csv
   单词,音标,中文,分类,例句,斩词时间
   apple,/ˈæpl/,苹果,食物与饮料,"I like apples.",2025-11-26 10:30:15
   cat,/kæt/,猫,动物,"I have a cat.",2025-11-26 09:15:42
   ```

4. **用途**
   - 备份学习记录
   - 导入其他学习工具
   - 分享给老师/家长
   - 学习进度分析

---

## 💡 使用技巧

### 1. 斩词时机

**推荐斩词的情况**：
- ✅ 能够快速拼写出单词
- ✅ 理解单词的多种含义
- ✅ 能够造句使用
- ✅ 在测试模式中连续答对3次以上

**不推荐斩词**：
- ❌ 刚刚学过一遍就斩
- ❌ 只记住中文意思但不会拼写
- ❌ 对单词用法不熟悉
- ❌ 容易与其他单词混淆

### 2. 学习策略

**阶段1: 初学**
- 使用背单词模式学习新词
- 标记"认识"和"不认识"
- 暂不斩词

**阶段2: 巩固**
- 使用检查模式测试
- 答对3-5次的可以考虑斩词

**阶段3: 精通**
- 挑战模式中快速正确
- 可以放心斩词

**阶段4: 复习**
- 定期查看已斩单词
- 不确定的及时取回复习

### 3. 数据管理

**定期导出**：
- 每周导出一次斩词记录
- 作为学习成果备份

**适时取回**：
- 遗忘的单词及时取回
- 不要为了数字好看强行不取回

**清空重学**：
- 学期结束后可以清空
- 重新开始下一轮学习

---

## 📊 统计说明

### 已斩单词数
- 显示已经斩掉的单词总数
- 实时更新

### 单词总数
- 包含所有分类的单词数量
- 包括内置和导入的单词

### 完成率
- 计算公式：已斩单词 / 单词总数 × 100%
- 反映学习进度

### 时间显示
- **刚刚**：1分钟内
- **N分钟前**：1-59分钟
- **N小时前**：1-23小时
- **N天前**：1天以上

---

## 🔧 技术特性

### 数据存储
- 使用 localStorage 本地存储
- 数据格式：JSON
- 存储键名：`slashedWords`

### 数据结构
```javascript
{
  "words": ["apple", "cat", "dog"],
  "wordsData": [
    {
      "word": "apple",
      "phonetic": "/ˈæpl/",
      "translation": "苹果",
      "category": "食物与饮料",
      "example": "I like apples.",
      "slashedAt": "2025-11-26T10:30:15.000Z"
    }
  ]
}
```

### 过滤机制
- 在 `startLearning()` 函数中过滤
- 使用 Set 数据结构快速查找
- 大小写不敏感匹配

---

## ⚠️ 注意事项

### 数据持久化
- ✅ 斩词数据保存在浏览器本地
- ✅ 关闭浏览器后仍然保留
- ⚠️ 清除浏览器缓存会删除数据
- ⚠️ 不同浏览器数据不同步

### 数据恢复
- ✅ 支持单个取回
- ✅ 支持批量清空
- ❌ 不支持撤销清空操作
- 💡 建议定期导出备份

### 浏览器兼容
- ✅ Chrome/Edge (推荐)
- ✅ Firefox
- ✅ Safari
- ⚠️ 需要支持 localStorage

---

## 🎮 快捷操作

### 键盘快捷键（当前支持）
- **Enter** - 提交答案（检查/挑战模式）
- **ESC** - 关闭对话框

### 未来计划
- **Ctrl/Cmd + K** - 打开斩词管理器
- **Ctrl/Cmd + S** - 斩当前单词
- **Ctrl/Cmd + Z** - 撤销上一次斩词

---

## 📈 学习建议

### 每日目标
- 🎯 学习 20-30 个新单词
- 🎯 斩掉 5-10 个已掌握的单词
- 🎯 复习昨天的不认识单词

### 每周目标
- 🎯 斩掉 30-50 个单词
- 🎯 完成率提升 10%
- 🎯 导出一次学习记录

### 学期目标
- 🎯 完成率达到 80%+
- 🎯 掌握 500+ 单词
- 🎯 保持稳定学习节奏

---

## 🐛 常见问题

### Q1: 斩词后还能看到吗？

**A:** 可以！
- 在斩词管理器中随时查看
- 包含完整的单词信息
- 可以导出为文件保存

### Q2: 误斩了怎么办？

**A:** 
- 立即打开斩词管理器
- 找到误斩的单词
- 点击"取回"按钮即可恢复

### Q3: 斩词数据会丢失吗？

**A:**
- 正常使用不会丢失
- 保存在浏览器本地存储
- 建议定期导出备份
- 清除浏览器数据会删除

### Q4: 可以在不同设备间同步吗？

**A:**
- 目前不支持跨设备同步
- 每个浏览器独立存储
- 可以通过导出/导入实现迁移

### Q5: 斩词有上限吗？

**A:**
- 理论上没有数量限制
- 取决于浏览器 localStorage 容量（通常 5-10MB）
- 建议定期导出并清空

### Q6: 清空全部可以恢复吗？

**A:**
- 不能！清空操作不可逆
- 系统会要求双重确认
- 建议操作前先导出备份

### Q7: 导出的文件如何使用？

**A:**
- 可以用 Excel 打开查看
- 可以导入其他学习软件
- 可以打印作为学习记录
- 可以分享给老师家长

### Q8: 已斩的单词会影响得分吗？

**A:**
- 斩词本身会获得 +10 分
- 已斩单词不再出现，不影响后续得分
- 取回后重新计入学习进度

---

## 🔄 更新日志

### v1.1.0 (2025-11-26)

**新增功能**：
- ✅ 斩词核心功能
- ✅ 斩词管理界面
- ✅ 取回功能
- ✅ 搜索过滤
- ✅ 数据导出
- ✅ 统计图表
- ✅ 斩词特效动画

**技术改进**：
- ✅ 本地存储持久化
- ✅ Set 数据结构优化查找
- ✅ 响应式界面设计

---

## 💬 反馈建议

如有问题或建议，欢迎反馈：
- 功能改进建议
- 使用问题报告
- 界面优化意见

---

**祝你学习进步，早日斩遍所有单词！⚔️🎉**
